(function(e){function t(t){for(var a,o,i=t[0],s=t[1],l=t[2],p=0,d=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(d.length)d.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(a=!1)}a&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},c=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/algobets/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},"12a5":function(e,t,n){"use strict";n("756b")},13:function(e,t){},14:function(e,t){},2:function(e,t){},2233:function(e,t,n){"use strict";n("9fca")},3:function(e,t){},3622:function(e,t,n){},"3a0a":function(e,t,n){"use strict";n("3622")},"3e26":function(e,t,n){"use strict";n("c403")},4:function(e,t){},5:function(e,t){},6:function(e,t){},7:function(e,t){},"756b":function(e,t,n){},8:function(e,t){},"884b":function(e,t,n){"use strict";n("c6f0")},9:function(e,t){},9308:function(e,t,n){},"93f3":function(e,t,n){},"98b4":function(e,t,n){"use strict";n("93f3")},"9fca":function(e,t,n){},acc6:function(e,t,n){"use strict";function a(e){return"#pragma version 3\n    // deploy app first then get id\n    // replace id in this teal to create\n    // the escrow address\n    // use goal app update to set the\n    // escrow address\n    \n    // Verify grouping with ApplicationCall\n    global GroupSize\n    int 2\n    ==\n    \n    gtxn 1 TypeEnum\n    int appl\n    ==\n    &&\n    \n    // The specific App ID must be called\n    // This should be changed after creation\n    gtxn 1 ApplicationID\n    int ".concat(e,"\n    ==\n    &&\n    \n    // App Call must be noop\n    gtxn 1 OnCompletion\n    int NoOp\n    ==\n    \n    // Delete must empty the escrow if it has any funds\n    gtxn 1 OnCompletion\n    int DeleteApplication\n    ==\n    ||\n    &&\n    \n    // verify neither transaction\n    // contains a rekey\n    gtxn 0 RekeyTo\n    global ZeroAddress\n    ==\n    &&\n    gtxn 1 RekeyTo\n    global ZeroAddress\n    ==\n    &&\n    ")}n.d(t,"a",(function(){return a}))},c403:function(e,t,n){},c6f0:function(e,t,n){},cc7f:function(e,t,n){"use strict";(function(e){var a=n("5530"),r=n("1da1"),c=(n("159b"),n("d3b7"),n("25f0"),n("99af"),n("fb6a"),n("7db0"),n("d81d"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("96cf"),n("58f7")),o=n("e762"),i=n("acc6"),s="NIVGZ2GLT6MXYNAJ6TZP4HEKRPUNHPH7ZRZUIJLFIBIYHFQM2GNJ3IDVXU",l="TestNet";t["a"]={connectAlgoSigner:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,AlgoSigner.connect();case 2:case"end":return e.stop()}}),e)})))()},getDapps:function(){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,AlgoSigner.indexer({ledger:l,path:"/v2/accounts/".concat(s)});case 2:return n=t.sent,a=n["account"]["created-apps"],r=[],a.forEach((function(t){var n={Id:t["id"],Team1:{Name:"",Total:0},Team2:{Name:"",Total:0},Winner:"",Escrow:"",LimitDate:0,EndDate:0};t["params"]["global-state"].forEach((function(t){var a=e.from(t["key"],"base64").toString("ascii"),r=e.from(t["value"]["bytes"],"base64").toString("ascii"),i=t["value"]["uint"];switch(a){case"Team1":n.Team1.Name=r;break;case"Team2":n.Team2.Name=r;break;case"Team1Total":n.Team1.Total=i;break;case"Team2Total":n.Team2.Total=i;break;case"Winner":n.Winner=r;break;case"LimitDate":case"EndDate":n[a]=i;break;case"Escrow":var s=o["a"].toUint8Array(t["value"]["bytes"]),l=c["encodeAddress"](s);if(!c["isValidAddress"](l))throw Error("Escrow value for app with id ".concat(n.Id," is not a valid address! (").concat(l,")"));n.Escrow=l;break;default:console.warn('Unexpected global variable "'.concat(a,'" from app with id ').concat(n.Id));break}})),""!==n.Escrow&&r.push(n)})),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))()},getUserAccounts:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,AlgoSigner.accounts({ledger:l});case 2:return t=e.sent,n=[],t.forEach((function(e){var t=e.address.length,a=e.address.slice(0,6)+" ... "+e.address.substr(t-6,t),r={address:e.address,short:a};n.push(r)})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))()},getActiveDapps:function(t,n){return Object(r["a"])(regeneratorRuntime.mark((function a(){var r,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=[],a.next=3,AlgoSigner.indexer({ledger:l,path:"/v2/accounts/".concat(n.address)});case 3:return c=a.sent,"account"in c&&"apps-local-state"in c["account"]&&c["account"]["apps-local-state"].forEach((function(a){var c=t.find((function(e){return e.Id===a["id"]}));if(void 0!==c){var o={dapp:c,Team:"",Bet:0,account:n};a["key-value"].forEach((function(t){var n=e.from(t["key"],"base64").toString("ascii");switch(n){case"MyTeam":o.Team=e.from(t["value"]["bytes"],"base64").toString("ascii");break;case"MyBet":o.Bet=t["value"]["uint"];break;default:console.warn('Unexpected global variable "'.concat(n,'" from app with id ').concat(a["id"]));break}})),r.push(o)}})),a.abrupt("return",r);case 6:case"end":return a.stop()}}),a)})))()},getMinParams:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,AlgoSigner.algod({ledger:l,path:"/v2/transactions/params"});case 2:return t=e.sent,n={fee:t["min-fee"],flatFee:!0,firstRound:t["last-round"],genesisHash:t["genesis-hash"],genesisID:t["genesis-id"],lastRound:t["last-round"]+1e3},e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))()},optInToDapp:function(e,t,n,o){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var s,l,u,p;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,i.getMinParams();case 2:s=r.sent,l=new c["Transaction"](Object(a["a"])({to:t.Escrow,from:e,amount:n},s)),u=(new TextEncoder).encode(o),p=c["makeApplicationOptInTxn"](e,s,t.Id,[u]),i.combineAndSend(l,p);case 7:case"end":return r.stop()}}),r)})))()},combineAndSend:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,r,o,i,s,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c["assignGroupID"]([e,t]),a=[e.toByte(),t.toByte()],r=a.map((function(e){return AlgoSigner.encoding.msgpackToBase64(e)})),n.next=5,AlgoSigner.signTxn([{txn:r[0]},{txn:r[1]}]);case 5:return o=n.sent,i=o.map((function(e){return AlgoSigner.encoding.base64ToMsgpack(e.blob)})),s=new Uint8Array(i[0].byteLength+i[1].byteLength),s.set(i[0],0),s.set(i[1],i[0].byteLength),u=AlgoSigner.encoding.msgpackToBase64(s),n.next=13,AlgoSigner.send({ledger:l,tx:u});case 13:case"end":return n.stop()}}),n)})))()},calculateClaimAmount:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;return Math.floor(e/t*(t+n)-a)},calculateReclaimAmount:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return e-t},getLogicSig:function(t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=Object(i["a"])(t.dapp.Id),n.next=3,AlgoSigner.algod({ledger:l,path:"/v2/teal/compile",body:a,method:"POST",contentType:"text/plain"});case 3:if(r=n.sent,r["hash"]===t.dapp.Escrow){n.next=6;break}throw Error("Escrow program hash ".concat(r["hash"]," did not equal the dapps's escrow address ").concat(t.dapp.Escrow));case 6:return o=new Uint8Array(e.from(r["result"],"base64")),n.abrupt("return",c["makeLogicSig"](o));case 8:case"end":return n.stop()}}),n)})))()},claimFromDapp:function(t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var o,i,s,u,p,d,m,b,h,g,f,O,j,v,T,y;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.getLogicSig(t);case 2:return o=r.sent,r.next=5,n.getMinParams();case 5:return i=r.sent,s=t.dapp.Team1.Total,u=t.dapp.Team2.Total,t.Team!==t.dapp.Team1.Name&&(s=t.dapp.Team2.Total,u=t.dapp.Team1.Total),p=n.calculateClaimAmount(t.Bet,s,u),console.log("Claiming "+p+" with account "+t.account.address),d=new c["Transaction"](Object(a["a"])({to:t.account.address,from:o.address(),amount:p},i)),m=[],m.push(new Uint8Array(e.from("claim"))),b=c["makeApplicationNoOpTxn"](t.account.address,i,t.dapp.Id,m),c["assignGroupID"]([d,b]),h=[d.toByte(),b.toByte()],g=h.map((function(e){return AlgoSigner.encoding.msgpackToBase64(e)})),r.next=20,AlgoSigner.signTxn([{txn:g[0],signers:[]},{txn:g[1]}]);case 20:return f=r.sent,O=c["signLogicSigTransactionObject"](d,o),j=O.blob,v=AlgoSigner.encoding.base64ToMsgpack(f[1].blob),T=new Uint8Array(j.byteLength+v.byteLength),T.set(j,0),T.set(v,j.byteLength),y=AlgoSigner.encoding.msgpackToBase64(T),r.next=30,AlgoSigner.send({ledger:l,tx:y});case 30:case"end":return r.stop()}}),r)})))()},reclaimFromDapp:function(t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var o,i,s,u,p,d,m,b,h,g,f,O,j,v;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.getLogicSig(t);case 2:return o=r.sent,r.next=5,n.getMinParams();case 5:return i=r.sent,s=n.calculateReclaimAmount(t.Bet),console.log("Reclaiming "+s+" with account "+t.account.address),u=new c["Transaction"](Object(a["a"])({to:t.account.address,from:o.address(),amount:s},i)),p=[],p.push(new Uint8Array(e.from("reclaim"))),d=c["makeApplicationNoOpTxn"](t.account.address,i,t.dapp.Id,p),c["assignGroupID"]([u,d]),m=[u.toByte(),d.toByte()],b=m.map((function(e){return AlgoSigner.encoding.msgpackToBase64(e)})),r.next=17,AlgoSigner.signTxn([{txn:b[0],signers:[]},{txn:b[1]}]);case 17:return h=r.sent,g=c["signLogicSigTransactionObject"](u,o),f=g.blob,O=AlgoSigner.encoding.base64ToMsgpack(h[1].blob),j=new Uint8Array(f.byteLength+O.byteLength),j.set(f,0),j.set(O,f.byteLength),v=AlgoSigner.encoding.msgpackToBase64(j),r.next=27,AlgoSigner.send({ledger:l,tx:v});case 27:case"end":return r.stop()}}),r)})))()}}}).call(this,n("b639").Buffer)},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r={key:0};function c(e,t,n,c,o,i){var s=Object(a["x"])("NavBar"),l=Object(a["x"])("router-view"),u=Object(a["x"])("NeedAlgoSigner");return Object(a["q"])(),Object(a["e"])(a["a"],null,[Object(a["h"])(s,{text:"AlgoBets"}),Object(a["h"])(l),e.hasAlgoSigner?(Object(a["q"])(),Object(a["e"])("div",r)):e.loading?Object(a["f"])("",!0):(Object(a["q"])(),Object(a["e"])(u,{key:1}))],64)}var o=n("1da1"),i=(n("96cf"),Object(a["F"])("data-v-d9ea929a"));Object(a["t"])("data-v-d9ea929a");var s=Object(a["h"])("div",{class:"logo"},"AlgoBets",-1),l={class:"navbar"},u=Object(a["g"])(" Home "),p=Object(a["g"])(" My Matches ");Object(a["r"])();var d=i((function(e,t,n,r,c,o){var d=Object(a["x"])("router-link");return Object(a["q"])(),Object(a["e"])("header",null,[s,Object(a["h"])("div",l,[Object(a["h"])("ul",null,[Object(a["h"])("li",null,[Object(a["h"])(d,{to:"/",class:"nav-item","active-class":"link-active",exact:""},{default:i((function(){return[u]})),_:1})]),Object(a["h"])("li",null,[Object(a["h"])(d,{to:"/mymatches",class:"nav-item","active-class":"link-active",exact:""},{default:i((function(){return[p]})),_:1})])])])])})),m=Object(a["i"])({name:"NavBar",props:{text:String}});n("98b4");m.render=d,m.__scopeId="data-v-d9ea929a";var b=m,h=Object(a["g"])("This application requires the AlgoSigner browser extension. "),g=Object(a["h"])("br",null,null,-1),f=Object(a["g"])("You can "),O=Object(a["h"])("a",{href:"https://chrome.google.com/webstore/detail/algosigner/kmmolakhbgdlpkjkcjkebenjheonagdm"},"install it here",-1),j=Object(a["g"])(" for chromium browsers. ");function v(e,t){return Object(a["q"])(),Object(a["e"])("p",null,[h,g,f,O,j])}const T={};T.render=v;var y=T,x=Object(a["i"])({name:"App",components:{NavBar:b,NeedAlgoSigner:y},data:function(){return{loading:!0}},computed:{hasAlgoSigner:function(){return this.$store.state.hasAlgoSigner}},mounted:function(){var e=this;this.checkAlgoSigner(),setTimeout((function(){return e.loading=!1}),200)},methods:{checkAlgoSigner:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("undefined"===typeof AlgoSigner){t.next=7;break}return e.$store.commit("setHasAlgoSigner",!0),t.next=4,AlgoSigner.connect();case 4:e.$store.dispatch("getAll"),t.next=8;break;case 7:setTimeout((function(){return e.checkAlgoSigner()}),1);case 8:case"end":return t.stop()}}),t)})))()}}});n("884b");x.render=c;var w=x,k=n("2909"),S=n("b85c"),A=(n("4de4"),n("4e82"),n("99af"),n("5502")),R=n("cc7f"),B=!1,D=Object(A["b"])({state:{hasAlgoSigner:!1,dapps:[],userAccounts:[],activeDapps:[]},getters:{activeDapps:function(e){var t=Math.floor(Date.now()/1e3);return e.dapps.filter((function(e){return e.LimitDate>t}))},expiredDapps:function(e){var t=Math.floor(Date.now()/1e3);return e.dapps.filter((function(e){return e.LimitDate<=t}))}},mutations:{setHasAlgoSigner:function(e,t){e.hasAlgoSigner=t},setDapps:function(e,t){e.dapps=t},setUserAccounts:function(e,t){e.userAccounts=t},setActiveDapps:function(e,t){e.activeDapps=t}},actions:{getAll:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch("getDapps");case 2:return t.next=4,e.dispatch("getUserAccounts");case 4:return t.next=6,e.dispatch("getActiveDapps");case 6:case"end":return t.stop()}}),t)})))()},getDapps:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R["a"].getDapps();case 2:n=t.sent,n.sort((function(e,t){return t.LimitDate-e.LimitDate})),e.commit("setDapps",n);case 5:case"end":return t.stop()}}),t)})))()},getUserAccounts:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R["a"].getUserAccounts();case 2:n=t.sent,e.commit("setUserAccounts",n);case 4:case"end":return t.stop()}}),t)})))()},getActiveDapps:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a,r,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.commit("setActiveDapps",[]),n=[],a=Object(S["a"])(e.state.userAccounts),t.prev=3,a.s();case 5:if((r=a.n()).done){t.next=15;break}return c=r.value,t.next=9,R["a"].getActiveDapps(e.state.dapps,c);case 9:o=t.sent,n.push.apply(n,Object(k["a"])(o)),n.sort((function(e,t){return t.dapp.LimitDate-e.dapp.LimitDate})),e.commit("setActiveDapps",[].concat(n));case 13:t.next=5;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](3),a.e(t.t0);case 20:return t.prev=20,a.f(),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[3,17,20,23]])})))()}},strict:B,plugins:B?[Object(A["a"])()]:[]}),M=n("6c02");function C(e,t,n,r,c,o){var i=Object(a["x"])("DappList");return Object(a["q"])(),Object(a["e"])(i,{listName:"My Matches",dapps:e.myMatches},null,8,["dapps"])}function q(e,t,n,r,c,o){var i=Object(a["x"])("Header"),s=Object(a["x"])("DappBlock");return Object(a["q"])(),Object(a["e"])(a["a"],null,[Object(a["h"])(i,{text:e.listName},null,8,["text"]),(Object(a["q"])(!0),Object(a["e"])(a["a"],null,Object(a["w"])(e.dapps,(function(e){return Object(a["q"])(),Object(a["e"])("div",{key:e.Id},["dapp"in e?(Object(a["q"])(),Object(a["e"])(s,{key:1,dapp:e.dapp,localState:e},null,8,["dapp","localState"])):(Object(a["q"])(),Object(a["e"])(s,{key:0,dapp:e},null,8,["dapp"]))])})),128))],64)}var N=Object(a["F"])("data-v-a096a952");Object(a["t"])("data-v-a096a952");var I={class:"dapp"},L=Object(a["h"])("td",null,[Object(a["h"])("h2",null,"vs")],-1),_={key:0},E=Object(a["h"])("td",null,null,-1),U={key:1},z={key:0},P=Object(a["g"])(" Winner was not picked! "),V=Object(a["h"])("br",null,null,-1),F={key:1},W={key:2},H=Object(a["g"])(" Winner: "),$=Object(a["h"])("br",null,null,-1);Object(a["r"])();var G=N((function(e,t,n,r,c,o){var i=Object(a["x"])("Bar"),s=Object(a["x"])("DappInfo"),l=Object(a["x"])("VoteButton"),u=Object(a["x"])("LocalStateInfo"),p=Object(a["x"])("ReclaimButton"),d=Object(a["x"])("ClaimButton");return Object(a["q"])(),Object(a["e"])("div",I,[Object(a["h"])("table",null,[Object(a["h"])("tr",null,[Object(a["h"])("td",null,[Object(a["h"])("h1",{style:{color:e.team1Color}},Object(a["z"])(e.dapp.Team1.Name),5)]),L,Object(a["h"])("td",null,[Object(a["h"])("h1",{style:{color:e.team2Color}},Object(a["z"])(e.dapp.Team2.Name),5)])])]),Object(a["h"])(i,{team1Total:e.dapp.Team1.Total,team2Total:e.dapp.Team2.Total,team1Color:e.team1Color,team2Color:e.team2Color,showRatios:!e.localState},null,8,["team1Total","team2Total","team1Color","team2Color","showRatios"]),Object(a["h"])(s,{dapp:e.dapp},null,8,["dapp"]),!e.localState&&e.isVoteable?(Object(a["q"])(),Object(a["e"])("table",_,[Object(a["h"])("tr",null,[Object(a["h"])("td",null,[Object(a["h"])(l,{text:"Vote",color:e.team1Color,teamName:e.dapp.Team1.Name,dapp:e.dapp},null,8,["color","teamName","dapp"])]),E,Object(a["h"])("td",null,[Object(a["h"])(l,{text:"Vote",color:e.team2Color,teamName:e.dapp.Team2.Name,dapp:e.dapp},null,8,["color","teamName","dapp"])])])])):e.localState?(Object(a["q"])(),Object(a["e"])("div",U,[Object(a["h"])(u,{localState:e.localState,color:e.myTeamColor},null,8,["localState","color"]),e.isExpired?(Object(a["q"])(),Object(a["e"])("div",z,[P,V,Object(a["h"])(p,{localState:e.localState},null,8,["localState"])])):""===e.dapp.Winner?(Object(a["q"])(),Object(a["e"])("div",F," Winner has yet to be picked... ")):e.hasClaimed?Object(a["f"])("",!0):(Object(a["q"])(),Object(a["e"])("div",W,[H,Object(a["h"])("span",{style:{color:e.winningTeamColor}},Object(a["z"])(e.dapp.Winner),5),$,e.isWinner?(Object(a["q"])(),Object(a["e"])(d,{key:0,color:e.myTeamColor,localState:e.localState},null,8,["color","localState"])):Object(a["f"])("",!0)]))])):Object(a["f"])("",!0)])}));function Z(e,t,n,r,c,o){var i=Object(a["x"])("Button"),s=Object(a["x"])("BetModal");return Object(a["q"])(),Object(a["e"])(a["a"],null,[Object(a["h"])(i,{onOnClick:e.toggleBetModal,color:e.color,text:"Vote"},null,8,["onOnClick","color"]),Object(a["h"])(a["b"],{name:"fade"},{default:Object(a["D"])((function(){return[e.showBetModal?(Object(a["q"])(),Object(a["e"])(s,{key:0,teamName:e.teamName,teamColor:e.color,dapp:e.dapp,onToggleBetModal:e.toggleBetModal},null,8,["teamName","teamColor","dapp","onToggleBetModal"])):Object(a["f"])("",!0)]})),_:1})],64)}var J=Object(a["F"])("data-v-e33f8dba");Object(a["t"])("data-v-e33f8dba");var Y={class:"modal"},X={id:"header"},K=Object(a["g"])("Bet on "),Q=Object(a["h"])("br",null,null,-1),ee={id:"account"},te=Object(a["h"])("option",{disabled:"",selected:"",value:""},"- select account -",-1),ne={key:0,id:"please-select"},ae=Object(a["h"])("br",null,null,-1);Object(a["r"])();var re=J((function(e,t,n,r,c,o){return Object(a["q"])(),Object(a["e"])("div",null,[Object(a["h"])("div",{class:"modal-overlay",onClick:t[1]||(t[1]=function(t){return e.$emit("toggle-bet-modal")})}),Object(a["h"])("div",Y,[Object(a["h"])("form",{onSubmit:t[3]||(t[3]=function(){return e.onSubmit&&e.onSubmit.apply(e,arguments)})},[Object(a["h"])("label",X,[K,Object(a["h"])("span",{style:{color:e.teamColor}},Object(a["z"])(e.teamName),5)]),Q,Object(a["h"])("select",ee,[te,(Object(a["q"])(!0),Object(a["e"])(a["a"],null,Object(a["w"])(e.accounts,(function(e){return Object(a["q"])(),Object(a["e"])("option",{key:e.address,value:e.address},Object(a["z"])(e.short),9,["value"])})),128))]),e.isValidAddress?Object(a["f"])("",!0):(Object(a["q"])(),Object(a["e"])("div",ne," Please select an account ")),Object(a["E"])(Object(a["h"])("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.amount=t}),placeholder:"0",step:"0.000001",min:"0.01",maxlength:"8"},null,512),[[a["B"],e.amount]]),ae,Object(a["h"])("input",{type:"submit",value:"Sign Transaction",style:{"background-color":e.teamColor}},null,4)],32)])])})),ce=n("58f7"),oe=Object(a["i"])({name:"BetModal",props:{teamName:{type:String,required:!0},teamColor:String,dapp:{type:Object,required:!0}},data:function(){return{amount:0,isValidAddress:!0}},computed:{accounts:function(){return this.$store.state.userAccounts}},methods:{onSubmit:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.amount){n.next=4;break}return alert("Please specify an amount"),n.abrupt("return");case 4:if(a=document.getElementById("account"),r=a.value,ce["isValidAddress"](r)){n.next=11;break}return t.isValidAddress=!1,n.abrupt("return");case 11:t.isValidAddress=!0;case 12:return console.log("Betting "+t.amount+" on "+t.teamName+" with account "+r),n.next=15,R["a"].optInToDapp(r,t.dapp,ce["algosToMicroalgos"](t.amount),t.teamName);case 15:case"end":return n.stop()}}),n)})))()}},emits:["toggle-bet-modal"]});n("3a0a");oe.render=re,oe.__scopeId="data-v-e33f8dba";var ie=oe,se=Object(a["F"])("data-v-13727cb6"),le=se((function(e,t,n,r,c,o){return Object(a["q"])(),Object(a["e"])("button",{onClick:t[1]||(t[1]=function(t){return e.$emit("on-click")}),style:{background:e.color}},Object(a["z"])(e.text),5)})),ue=Object(a["i"])({name:"Button",props:{color:String,text:String},emits:["on-click"]});n("2233");ue.render=le,ue.__scopeId="data-v-13727cb6";var pe=ue,de=Object(a["i"])({name:"VoteButton",components:{BetModal:ie,Button:pe},data:function(){return{showBetModal:!1}},props:{text:String,color:String,teamName:String,dapp:Object},methods:{toggleBetModal:function(){this.showBetModal=!this.showBetModal}}});de.render=Z;var me=de,be=Object(a["F"])("data-v-51e1b158");Object(a["t"])("data-v-51e1b158");var he={class:"bar"},ge={key:0};Object(a["r"])();var fe=be((function(e,t,n,r,c,o){return Object(a["q"])(),Object(a["e"])("div",he,[e.showRatios?(Object(a["q"])(),Object(a["e"])("table",ge,[Object(a["h"])("tr",null,[Object(a["h"])("td",{style:{color:e.team1Color}},[Object(a["h"])("strong",null,Object(a["z"])(e.team1Ratio)+"%",1)],4),Object(a["h"])("td",{style:{color:e.team2Color}},[Object(a["h"])("strong",null,Object(a["z"])(e.team2Ratio)+"%",1)],4)])])):Object(a["f"])("",!0),Object(a["h"])("div",{style:{background:e.team2Color},class:"bar_right"},[Object(a["h"])("div",{style:{background:e.team1Color,width:e.barWidth},class:"bar_left"},null,4)],4)])})),Oe=(n("a9e3"),n("d3b7"),n("25f0"),Object(a["i"])({name:"Bar",props:{showRatios:{type:Boolean,default:!0},team1Color:{type:String,required:!0},team2Color:{type:String,required:!0},team1Total:{type:Number,required:!0},team2Total:{type:Number,required:!0}},computed:{team1Ratio:function(){return this.team1Total+this.team2Total==0?50:Math.round(this.team1Total/(this.team1Total+this.team2Total)*100)},team2Ratio:function(){return this.team1Total+this.team2Total==0?50:Math.round(this.team2Total/(this.team1Total+this.team2Total)*100)},barWidth:function(){var e=this.team1Ratio,t=Math.min(Math.max(e,2),98);return t.toString()+"%"}}}));n("fcf4");Oe.render=fe,Oe.__scopeId="data-v-51e1b158";var je=Oe,ve=Object(a["F"])("data-v-908d4ce8");Object(a["t"])("data-v-908d4ce8");var Te=Object(a["h"])("td",null,[Object(a["h"])("span")],-1),ye=Object(a["h"])("td",null,[Object(a["h"])("span")],-1),xe={key:0},we=Object(a["h"])("td",null,[Object(a["h"])("span",null,"Total Bet")],-1),ke={key:1},Se=Object(a["h"])("td",null,[Object(a["h"])("span",null,"Return Ratio")],-1);Object(a["r"])();var Ae=ve((function(e,t,n,r,c,o){return Object(a["q"])(),Object(a["e"])("table",null,[Object(a["h"])("tr",null,[Te,Object(a["h"])("td",null,[Object(a["h"])("span",null,Object(a["z"])(e.timeRemainingString),1)]),ye]),e.verbose?(Object(a["q"])(),Object(a["e"])("tr",xe,[Object(a["h"])("td",null,[Object(a["h"])("span",null,Object(a["z"])(e.team1TotalAlgos),1)]),we,Object(a["h"])("td",null,[Object(a["h"])("span",null,Object(a["z"])(e.team2TotalAlgos),1)])])):Object(a["f"])("",!0),e.verbose?(Object(a["q"])(),Object(a["e"])("tr",ke,[Object(a["h"])("td",null,[Object(a["h"])("span",null,"1:"+Object(a["z"])(e.team1Ratio),1)]),Se,Object(a["h"])("td",null,[Object(a["h"])("span",null,"1:"+Object(a["z"])(e.team2Ratio),1)])])):Object(a["f"])("",!0)])})),Re=(n("b680"),Object(a["i"])({name:"DappInfo",props:{dapp:{type:Object,required:!0},verbose:{type:Boolean,default:!0}},computed:{team1Ratio:function(){var e=(this.dapp.Team1.Total+this.dapp.Team2.Total)/this.dapp.Team1.Total;return e.toFixed(2)},team2Ratio:function(){var e=(this.dapp.Team1.Total+this.dapp.Team2.Total)/this.dapp.Team2.Total;return e.toFixed(2)},timeRemainingString:function(){if(this.limitTimeRemaining.total>0){var e="Bets close in ",t=this.limitTimeRemaining.days+" day".concat(1!=this.limitTimeRemaining.days?"s":""),n=this.limitTimeRemaining.hours+" hour".concat(1!=this.limitTimeRemaining.hours?"s":""),a=this.limitTimeRemaining.minutes+" minute".concat(1!=this.limitTimeRemaining.seconds?"s":""),r=this.limitTimeRemaining.seconds+" second".concat(1!=this.limitTimeRemaining.seconds?"s":"");return this.limitTimeRemaining.days>0?e+" "+t+" "+n:this.limitTimeRemaining.hours>0?e+" "+n+" "+a:this.limitTimeRemaining.minutes>0?e+" "+a+" "+r:e+" "+r}return"Bets have closed"},team1TotalAlgos:function(){return ce["microalgosToAlgos"](this.dapp.Team1.Total)},team2TotalAlgos:function(){return ce["microalgosToAlgos"](this.dapp.Team2.Total)}},data:function(){return{limitTimeRemaining:{total:0,days:0,hours:0,minutes:0,seconds:0}}},mounted:function(){setTimeout(this.countdown,1)},methods:{countdown:function(){var e=this.dapp.LimitDate-Math.floor(Date.now()/1e3);if(e>0){var t=e%60,n=Math.floor(e/60%60),a=Math.floor(e/3600%24),r=Math.floor(e/86400);this.limitTimeRemaining={total:e,days:r,hours:a,minutes:n,seconds:t};var c=1;r>0?c=600:a>0&&(c=10),setTimeout(this.countdown,c)}else this.limitTimeRemaining={total:0,days:0,hours:0,minutes:0,seconds:0}}}}));n("3e26");Re.render=Ae,Re.__scopeId="data-v-908d4ce8";var Be=Re,De=n("faa4"),Me=n.n(De),Ce=Object(a["F"])("data-v-0aa2fa80");Object(a["t"])("data-v-0aa2fa80");var qe={key:0},Ne=Object(a["h"])("img",{src:Me.a,alt:""},null,-1),Ie=Object(a["h"])("h1",null,"on ",-1),Le={key:1},_e=Object(a["h"])("h2",null,"Your bet on ",-1),Ee=Object(a["h"])("h2",null," has already been claimed",-1);Object(a["r"])();var Ue=Ce((function(e,t,n,r,c,o){return e.hasClaimed?(Object(a["q"])(),Object(a["e"])("div",Le,[_e,Object(a["h"])("h2",{style:{color:e.color}},Object(a["z"])(e.localState.Team),5),Ee])):(Object(a["q"])(),Object(a["e"])("div",qe,[Object(a["h"])("h1",null,Object(a["z"])(e.localStateBetAlgos),1),Ne,Ie,Object(a["h"])("h1",{style:{color:e.color}},Object(a["z"])(e.localState.Team),5)]))})),ze=Object(a["i"])({props:{localState:{type:Object,required:!0},color:{type:String,default:"black"}},computed:{localStateBetAlgos:function(){return Object(ce["microalgosToAlgos"])(this.localState.Bet)},hasClaimed:function(){return 0===this.localState.Bet}}});n("12a5");ze.render=Ue,ze.__scopeId="data-v-0aa2fa80";var Pe=ze;function Ve(e,t,n,r,c,o){var i=Object(a["x"])("Button");return Object(a["q"])(),Object(a["e"])(i,{onOnClick:e.claimBet,color:e.color,text:"Claim"},null,8,["onOnClick","color"])}var Fe=Object(a["i"])({name:"ClaimButton",components:{Button:pe},props:{color:String,localState:{type:Object,required:!0}},methods:{claimBet:function(){R["a"].claimFromDapp(this.localState)}}});Fe.render=Ve;var We=Fe;function He(e,t,n,r,c,o){var i=Object(a["x"])("Button");return Object(a["q"])(),Object(a["e"])(i,{onOnClick:e.claimBet,color:"black",text:"Reclaim"},null,8,["onOnClick"])}var $e=Object(a["i"])({name:"ReclaimButton",components:{Button:pe},props:{localState:{type:Object,required:!0}},methods:{claimBet:function(){R["a"].reclaimFromDapp(this.localState)}}});$e.render=He;var Ge=$e,Ze=Object(a["i"])({name:"DappBlock",props:{dapp:{type:Object,required:!0},localState:{type:Object,required:!1},team1Color:{type:String,default:"#72C076"},team2Color:{type:String,default:"#73CDD3"}},components:{VoteButton:me,Bar:je,DappInfo:Be,LocalStateInfo:Pe,ClaimButton:We,ReclaimButton:Ge},computed:{myTeamColor:function(){return this.localState.Team===this.dapp.Team1.Name?this.team1Color:this.team2Color},winningTeamColor:function(){return this.dapp.Winner===this.dapp.Team1.Name?this.team1Color:this.team2Color},isVoteable:function(){return 1e3*this.dapp.LimitDate>Date.now()},isExpired:function(){return 1e3*this.dapp.EndDate<Date.now()},isWinner:function(){return this.localState.Team===this.dapp.Winner},hasClaimed:function(){return 0===this.localState.Bet}}});n("f48c");Ze.render=G,Ze.__scopeId="data-v-a096a952";var Je=Ze;function Ye(e,t,n,r,c,o){return Object(a["q"])(),Object(a["e"])("header",null,[Object(a["h"])("h1",null,Object(a["z"])(e.text),1)])}var Xe=Object(a["i"])({name:"Header",props:{text:String}});Xe.render=Ye;var Ke=Xe,Qe=Object(a["i"])({name:"Dapps",components:{DappBlock:Je,Header:Ke},props:{listName:String,dapps:{type:Array,required:!0}}});Qe.render=q;var et=Qe,tt=Object(a["i"])({components:{DappList:et},watch:{myMatches:function(){console.log(this.myMatches)}},computed:{myMatches:function(){return this.$store.state.activeDapps}}});tt.render=C;var nt=tt;function at(e,t,n,r,c,o){var i=Object(a["x"])("DappList");return Object(a["q"])(),Object(a["e"])(a["a"],null,[Object(a["h"])(i,{listName:"Upcoming Matches",dapps:e.upcomingMatches},null,8,["dapps"]),0!==e.expiredMatches.length?(Object(a["q"])(),Object(a["e"])(i,{key:0,listName:"Past Matches",dapps:e.expiredMatches},null,8,["dapps"])):Object(a["f"])("",!0)],64)}var rt=Object(a["i"])({components:{DappList:et},computed:{upcomingMatches:function(){return this.$store.getters.activeDapps},expiredMatches:function(){return this.$store.getters.expiredDapps}}});rt.render=at;var ct=rt;function ot(e,t){return" We couldn't find that page! "}const it={};it.render=ot;var st=it,lt=[{path:"/mymatches",name:"My Matches",component:nt},{path:"/",name:"Upcoming Matches",component:ct},{path:"/:pathMatch(.*)",name:"404",component:st}],ut=Object(M["a"])({history:Object(M["b"])("/algobets/"),routes:lt}),pt=ut;Object(a["d"])(w).use(D).use(pt).mount("#app")},eea4:function(e,t,n){},f48c:function(e,t,n){"use strict";n("9308")},faa4:function(e,t,n){e.exports=n.p+"img/algorand_logo_mark_black.6c6f52b0.svg"},fcf4:function(e,t,n){"use strict";n("eea4")}});
//# sourceMappingURL=app.ffc62794.js.map